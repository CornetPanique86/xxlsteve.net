<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>React Leaflet on Next.js 15 (App router) | XXL Steve</title><meta property="og:title" content="React Leaflet on Next.js 15 (App router)"><meta property="og:description" content="How to add a React Leaflet map to your Next.js 15 website"><meta property="og:type" content="article"><meta property="og:url" content="https://xxlsteve.net/blog/react-leaflet-on-next-15/"><meta property="og:image" content="https://xxlsteve.net/blog/react-leaflet-on-next-15/img/thumbnail.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-03-15T21:19:39+01:00"><meta property="article:modified_time" content="2025-03-15T20:55:13+00:00"><meta property="og:site_name" content="XXL Steve"><meta name=description content="How to add a React Leaflet map to your Next.js 15 website"><meta content="#4A3C5C" data-react-helmet=true name=theme-color><link href=/sass/syntax.min.css rel=stylesheet><link rel=stylesheet href=/assets/css/main.min.6141b1a9007e185b24bcf6baeb7fc55063d4287534766c43d0f27bcddf7ca0aed8bd18330102973261a7507deb547f7c502cd6f96666cef15d3333cc2719afd9.css integrity="sha512-YUGxqQB+GFskvPa663/FUGPUKHU0dmxD0PJ7zd98oK7YvRgzAQKXMmGnUH3rVH98UCzW+WZmzvFdMzPMJxmv2Q=="><script fetchpriority=high src=/js/main.min.e81f969b5a9898540e50117b6ba5f266e90149c39a0f525d10968e0d2bd257fbd22baef42f4ff6f11dc19d461e4bb9d6084eef93dcd35d2c11976da4883c6ded.js integrity></script>
<script src=https://cdn.jsdelivr.net/gh/CornetPanique86/pixelart-icons/dist/pixelarticons.js crossorigin=anonymous></script>
<link rel=stylesheet type=text/css href=https://cdn.jsdelivr.net/gh/CornetPanique86/pixelart-icons/dist/pixelarticons_anim.css><script fetchpriority=low type=text/javascript src='https://platform-api.sharethis.com/js/sharethis.js#property=63dc0e00b14908001316e618&product=inline-share-buttons' async></script>
<link rel=alternate type=application/rss+xml href=https://xxlsteve.net/blog/react-leaflet-on-next-15/index.xml title="XXL Steve"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css><script src=https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js></script>
<script>window.addEventListener("load",()=>{if(document.querySelectorAll(".swiper").forEach(e=>{const t=new Swiper(`#${e.id}`,{loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}),!window.matchMedia)return!1;window.matchMedia("(prefers-color-scheme: dark)").matches&&window.REMARK42&&window.REMARK42.changeTheme("dark");const t=800,e=document.querySelector(".backToTop"),n=()=>document.documentElement||document.body;document.addEventListener("scroll",()=>{n().scrollTop>t?e.classList.remove("hidden"):e.classList.add("hidden")});const s=()=>{document.body.scrollIntoView()};e.addEventListener("click",s)})</script></head><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://xxlsteve.net/blog/react-leaflet-on-next-15/img/thumbnail.jpg"><meta name=twitter:title content="React Leaflet on Next.js 15 (App router)"><meta name=twitter:description content="How to add a React Leaflet map to your Next.js 15 website"><meta name=twitter:site content="@cornetpanique86"><body class=page><div class=grid-page><header><nav><button class=nav-burger title=Navigation type=button onclick=showNavBar()><svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h10v2H0zm0 4h10v2H0zm0 4h10v2H0z"/></svg></button><ul class=top-nav><li class=top-nav__logo><a href=/><img class=icons src=/header-icon.png title=Home></a></li><div class=top-nav__link-group><li class="top-nav__link top-nav__dropDownParent"><a href=/resources class=noA><span>Resources</span></a>
<i class="pxico-caret rotateDown"></i><ul class=top-nav__dropDown><li><a href=/tools class=noA><span>Tools</span></a></li></ul></li><li class=top-nav__link><a href=/blog class=noA><span>Blog</span></a></li><li class="top-nav__link top-nav__dropDownParent"><a href=/about class=noA><span>About</span></a>
<i class="pxico-caret rotateDown"></i><ul class=top-nav__dropDown><li><a href=/socials class=noA><span>Socials & Contact</span></a></li></ul></li><li class=top-nav__link><select name=theme id=themeToggler class=mcbutton onchange=themeSettings() title='Select theme'><option value=auto>Auto</option><option value=light>Light</option><option value=dark>Dark</option></select></li><li class=top-nav__link><button type=button title='Search (Ctrl /)' id=navSearchBtn>
<span><i class=pxico-search></i></span></button></li></div></ul><div id=search-pageblock class="pageblock hidden" style=display:none><form id=search-form class=noscript method=get action=https://duckduckgo.com/ data-language-prefix><div class=search-bar><input id=search-input class=search--display name=q tabindex=0 autocomplete=off value=" site:https://xxlsteve.net" placeholder="Search (Ctrl /)">
<input id=search-submit class="icon mcbutton" type=submit value=⌕></div><div class=search-topTaxonomies><div><h3><a href=/categories/>Categories</a></h3><div class=taxonomies__tag-group><div class=tag><span class=tag-text><a href=/categories/addon/>Addon</a></span></div><div class=tag><span class=tag-text><a href=/categories/creation/>Creation</a></span></div><div class=tag><span class=tag-text><a href=/categories/map/>Map</a></span></div><div class=tag><span class=tag-text><a href=/categories/resource-pack/>Resource Pack</a></span></div><div class=tag><span class=tag-text><a href=/categories/tutorial/>Tutorial</a></span></div></div></div><div><h3><a href=/tags/>Tags</a></h3><div class=taxonomies__tag-group><div class=tag><span class=tag-text><a href=/tags/javascript/>Javascript</a></span></div><div class=tag><span class=tag-text><a href=/tags/linux/>Linux</a></span></div><div class=tag><span class=tag-text><a href=/tags/minecraft/>Minecraft</a></span></div><div class=tag><span class=tag-text><a href=/tags/minecraft-bedrock/>Minecraft Bedrock</a></span></div><div class=tag><span class=tag-text><a href=/tags/minecraft-java/>Minecraft Java</a></span></div><div class=tag><span class=tag-text><a href=/tags/other/>Other</a></span></div><div class=tag><span class=tag-text><a href=/tags/react/>React</a></span></div><div class=tag><span class=tag-text><a href=/tags/typescript/>Typescript</a></span></div><div class=tag><span class=tag-text><a href=/tags/v1.14/>v1.14</a></span></div><div class=tag><span class=tag-text><a href=/tags/v1.16/>v1.16</a></span></div><div class=tag><span class=tag-text><a href=/tags/v1.17/>v1.17</a></span></div><div class=tag><span class=tag-text><a href=/tags/v1.18/>v1.18</a></span></div></div></div></div><ul id=search-results class=search--display></ul></form></div></nav></header><main class=main-content><div class=container><div class=page-content><button type=button class="backToTop mcbutton hidden"><i class=pxico-arrow></i></button>
<a href=/blog><i class=pxico-arrow style=transform:rotate(-90deg)></i> Blog</a><article><section><meta itemprop=image content="/blog/react-leaflet-on-next-15/img/thumbnail.jpg"><meta itemprop=publisher content="xxlsteve.net"><div class=b-hero itemscope itemtype=https://schema.org/BlogPosting><img class=b-hero__image src=/blog/react-leaflet-on-next-15/img/thumbnail.jpg><div class=b-hero__info><header><h1 class=b-hero__title itemprop="name headline">React Leaflet on Next.js 15 (App router)</h1></header><div class=b-hero__author-date><span>Author: <a href=/about itemprop=author name="XXL Steve">XXL Steve</a></span>
<span>Published: <span class=date>March 15, 2025<span class=date__expand>Saturday, March 15, 2025 9:19:39 pm CET</span></span></span>
<span>Updated: <span class=date>March 15, 2025<span class=date__expand>Saturday, March 15, 2025 8:55:13 pm UTC</span></span></span>
<span>Reading time: <span class=date>3 min<span class=date__expand>464 words</span></span></span></div><div class=sharethis-inline-share-buttons></div></div></div><div class=taxonomies><span class=taxonomies__text>Categories:</span><div class=taxonomies__tag-group><div class=tag><span class=tag-text><a href=/categories/tutorial>Tutorial</a></span></div></div><span class=taxonomies__text>Tags:</span><div class=taxonomies__tag-group><div class=tag><span class=tag-text><a href=/tags/javascript>Javascript</a></span></div><div class=tag><span class=tag-text><a href=/tags/typescript>Typescript</a></span></div><div class=tag><span class=tag-text><a href=/tags/react>React</a></span></div></div></div></section><aside><div class=b-table-of-contents><div class=b-table-of-contents__header>Table of Contents</div><div class=b-table-of-contents__content><div class=b-table-of-contents__text><a href=#prerequisites class=noA><span class=b-table-of-contents__h1>Prerequisites</span></a><br><a href=#map-component class=noA><span class=b-table-of-contents__h1>Map component</span></a><br><a href=#map-page class=noA><span class=b-table-of-contents__h1>Map page</span></a><br><a href=#marker-icons class=noA><span class=b-table-of-contents__h1>Marker icons</span></a><br><a href=#the-quick-fix class=noA><span class=b-table-of-contents__h2>The quick fix</span></a><br><a href=#the-adding-a-custom-icon-fix class=noA><span class=b-table-of-contents__h2>The adding-a-custom-icon fix</span></a><br></div><div class=b-table-of-contents__number>1<br>2<br>3<br>4<br>4.1<br>4.2<br></div></div></div></aside><hr><section itemprop=headline class=mainArticle><div class=hanchor__div><h3 class=hanchor id=prerequisites>Prerequisites</h3><a href=#prerequisites class=hanchor__anchor title="Anchor: 
Prerequisites
"><i class=pxico-link></i></a></div><p>Install the necessary packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>npm install react@rc react-dom@rc leaflet
</span></span><span style=display:flex><span>npm install react-leaflet@next
</span></span></code></pre></div><p>And add Typescript definitions:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>npm install -D @types/leaflet
</span></span></code></pre></div><div class=hanchor__div><h3 class=hanchor id=map-component>Map component</h3><a href=#map-component class=hanchor__anchor title="Anchor: 
Map component
"><i class=pxico-link></i></a></div><p>The map will be placed in a client-side component.</p><p><code>app/map/Map.tsx</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#e6db74>&#34;use client&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;leaflet/dist/leaflet.css&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>MapContainer</span>, <span style=color:#a6e22e>TileLayer</span>, <span style=color:#a6e22e>Marker</span>, <span style=color:#a6e22e>Popup</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;react-leaflet&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Map</span> <span style=color:#f92672>=</span> () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>MapContainer</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>center</span><span style=color:#f92672>=</span>{[<span style=color:#ae81ff>46.861505</span>, <span style=color:#ae81ff>2.496587</span>]}
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>zoom</span><span style=color:#f92672>=</span>{<span style=color:#ae81ff>6</span>}
</span></span><span style=display:flex><span>    &gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>TileLayer</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>attribution</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#39;&amp;copy; &lt;a href=&#34;https://www.openstreetmap.org/copyright&#34;&gt;OpenStreetMap&lt;/a&gt; contributors&#39;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>url</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png&#34;</span>
</span></span><span style=display:flex><span>      /&gt;
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>Marker</span> <span style=color:#a6e22e>position</span><span style=color:#f92672>=</span>{[<span style=color:#ae81ff>43.56295237</span>, <span style=color:#ae81ff>1.46810716</span>]}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Popup</span>&gt;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>Hello</span> <span style=color:#a6e22e>world</span><span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>Popup</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>Marker</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>MapContainer</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Map</span>;
</span></span></code></pre></td></tr></table></div></div><div class=hanchor__div><h3 class=hanchor id=map-page>Map page</h3><a href=#map-page class=hanchor__anchor title="Anchor: 
Map page
"><i class=pxico-link></i></a></div><p>Now, import the component to your page <strong>dynamically</strong> with server-side rendering turned off (<a href=https://github.com/PostHog/posthog/issues/26016#issuecomment-2629036307><code>ssr: !!false</code></a>):</p><p><code>app/map/page.tsx</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>styles</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./page.module.css&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>dynamic</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;next/dynamic&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DynamicMap</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dynamic</span>(() <span style=color:#f92672>=&gt;</span> <span style=color:#66d9ef>import</span>(<span style=color:#e6db74>&#34;./Map&#34;</span>), {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>loading</span><span style=color:#f92672>:</span> () <span style=color:#f92672>=&gt;</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span>&gt;<span style=color:#a6e22e>Loading</span> <span style=color:#a6e22e>map</span>...&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>  ),
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ssr</span><span style=color:#f92672>:</span> <span style=color:#f92672>!!</span><span style=color:#66d9ef>false</span>,
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>Page() {</span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>article</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>article</span>}&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>styles</span>.<span style=color:#a6e22e>container</span>}&gt;
</span></span><span style=display:flex><span>          &lt;<span style=color:#f92672>DynamicMap</span> /&gt;
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>article</span>&gt;
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><p>And finally, give the map a width and height other than 0 for it to appear:</p><p><code>app/map/page.module.css</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=display:flex><span>.<span style=color:#a6e22e>article</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>flex</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>flex-direction</span>: <span style=color:#66d9ef>column</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>justify-content</span>: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>align-items</span>: <span style=color:#66d9ef>center</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>max-width</span>: <span style=color:#ae81ff>1345</span><span style=color:#66d9ef>px</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>margin</span>: <span style=color:#ae81ff>2</span><span style=color:#66d9ef>rem</span> <span style=color:#66d9ef>auto</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>container</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>width</span>: <span style=color:#ae81ff>50</span><span style=color:#66d9ef>vw</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>height</span>: <span style=color:#ae81ff>60</span><span style=color:#66d9ef>vh</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>display</span>: <span style=color:#66d9ef>flex</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>.<span style=color:#a6e22e>container</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>div</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>flex</span>: <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><figure title='And you have a working map!' class="figurePopup imagePopup" style=width:min(978px,70%)><img src=/blog/react-leaflet-on-next-15/img/map-page.jpg srcset="/blog/react-leaflet-on-next-15/img/map-page_hu580552b05eab968e8718982f80d2258c_197437_320x0_resize_q75_box.jpg 320w,
/blog/react-leaflet-on-next-15/img/map-page_hu580552b05eab968e8718982f80d2258c_197437_600x0_resize_q75_box.jpg 600w,
/blog/react-leaflet-on-next-15/img/map-page_hu580552b05eab968e8718982f80d2258c_197437_1200x0_resize_q75_box.jpg 2x" alt="And you have a working map!"><figcaption><p>And you have a working map!</p></figcaption></figure><div class=hanchor__div><h3 class=hanchor id=marker-icons>Marker icons</h3><a href=#marker-icons class=hanchor__anchor title="Anchor: 
Marker icons
"><i class=pxico-link></i></a></div><p>It works, but the marker icons don&rsquo;t (idk why).</p><p>There are 2 solutions:</p><div class=hanchor__div><h4 class=hanchor id=the-quick-fix>The quick fix</h4><a href=#the-quick-fix class=hanchor__anchor title="Anchor: 
The quick fix
"><i class=pxico-link></i></a></div><p>Add <code>marker-icon.png</code> in your <code>public</code> folder under the same path as the URL path, so for instance it would be <code>public/map/marker-icon.png</code> in my example.</p><div class=hanchor__div><h4 class=hanchor id=the-adding-a-custom-icon-fix>The adding-a-custom-icon fix</h4><a href=#the-adding-a-custom-icon-fix class=hanchor__anchor title="Anchor: 
The adding-a-custom-icon fix
"><i class=pxico-link></i></a></div><p>Or a better way to fix it is by adding a custom marker icon to your markers:</p><p><code>app/map/Map.tsx</code>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tsx data-lang=tsx><span style=display:flex><span><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>L</span> <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;leaflet&#34;</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>/* ... */</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Map</span> <span style=color:#f92672>=</span> () <span style=color:#f92672>=&gt;</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>markerIcon</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>L</span>.<span style=color:#a6e22e>Icon</span>({
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>iconUrl</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/marker-icon.png&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>shadowUrl</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/marker-shadow.png&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>iconSize</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>22</span>, <span style=color:#ae81ff>32</span>],
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>shadowSize</span><span style=color:#f92672>:</span>   [<span style=color:#ae81ff>41</span>, <span style=color:#ae81ff>41</span>], <span style=color:#75715e>// size of the shadow
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>iconAnchor</span><span style=color:#f92672>:</span>   [<span style=color:#ae81ff>22</span>, <span style=color:#ae81ff>64</span>], <span style=color:#75715e>// point of the icon which will correspond to marker&#39;s location
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>shadowAnchor</span><span style=color:#f92672>:</span> [<span style=color:#ae81ff>24</span>, <span style=color:#ae81ff>72</span>],  <span style=color:#75715e>// the same for the shadow
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>        <span style=color:#a6e22e>popupAnchor</span><span style=color:#f92672>:</span>  [<span style=color:#f92672>-</span><span style=color:#ae81ff>11</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>62</span>] <span style=color:#75715e>// point from which the popup should open relative to the iconAnchor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    });
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> (
</span></span><span style=display:flex><span>    {<span style=color:#75715e>/* ... */</span>}
</span></span><span style=display:flex><span>      &lt;<span style=color:#f92672>Marker</span> <span style=color:#a6e22e>position</span><span style=color:#f92672>=</span>{[<span style=color:#ae81ff>43.56295237</span>, <span style=color:#ae81ff>1.46810716</span>]} <span style=color:#a6e22e>icon</span><span style=color:#f92672>=</span>{ <span style=color:#a6e22e>markerIcon</span> }&gt;
</span></span><span style=display:flex><span>        &lt;<span style=color:#f92672>Popup</span>&gt;
</span></span><span style=display:flex><span>          <span style=color:#a6e22e>Hello</span> <span style=color:#a6e22e>world</span><span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>        &lt;/<span style=color:#f92672>Popup</span>&gt;
</span></span><span style=display:flex><span>      &lt;/<span style=color:#f92672>Marker</span>&gt;
</span></span><span style=display:flex><span>    {<span style=color:#75715e>/* ... */</span>}
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>};
</span></span><span style=display:flex><span><span style=color:#75715e>/* ... */</span>
</span></span></code></pre></td></tr></table></div></div><p>Then add</p><figure title=marker-icon.png class="figurePopup imagePopup" style=width:min(44px,70%)><img src=/blog/react-leaflet-on-next-15/img/marker-icon.png srcset="/blog/react-leaflet-on-next-15/img/marker-icon_hu34c90657f63d799be8cb3ff5bae58fa0_2366_320x0_resize_box_3.png 320w,
/blog/react-leaflet-on-next-15/img/marker-icon_hu34c90657f63d799be8cb3ff5bae58fa0_2366_600x0_resize_box_3.png 600w,
/blog/react-leaflet-on-next-15/img/marker-icon_hu34c90657f63d799be8cb3ff5bae58fa0_2366_1200x0_resize_box_3.png 2x" alt=marker-icon.png><figcaption><p>marker-icon.png</p></figcaption></figure><p>and</p><figure title=marker-shadow.png class="figurePopup imagePopup" style=width:min(82px,70%)><img src=/blog/react-leaflet-on-next-15/img/marker-shadow.png srcset="/blog/react-leaflet-on-next-15/img/marker-shadow_huc3567147cd808593320586fed216366a_2684_320x0_resize_box_3.png 320w,
/blog/react-leaflet-on-next-15/img/marker-shadow_huc3567147cd808593320586fed216366a_2684_600x0_resize_box_3.png 600w,
/blog/react-leaflet-on-next-15/img/marker-shadow_huc3567147cd808593320586fed216366a_2684_1200x0_resize_box_3.png 2x" alt=marker-shadow.png><figcaption><p>marker-shadow.png</p></figcaption></figure><p>to the <code>public</code> folder.</p><p> </p><p>Or you can use the default marker <a href=https://github.com/Leaflet/Leaflet/blob/main/src/images/marker.svg>icon</a> and <a href=https://github.com/Leaflet/Leaflet/blob/main/src/images/marker-shadow.svg>shadow</a> from leaflet.</p><figure title='Custom map marker icons!' class="figurePopup imagePopup" style=width:min(962px,70%)><img src=/blog/react-leaflet-on-next-15/img/map-marker-icons.jpg srcset="/blog/react-leaflet-on-next-15/img/map-marker-icons_hu55c5701bd3c26938a0c8eab9bfb7173b_199868_320x0_resize_q75_box.jpg 320w,
/blog/react-leaflet-on-next-15/img/map-marker-icons_hu55c5701bd3c26938a0c8eab9bfb7173b_199868_600x0_resize_q75_box.jpg 600w,
/blog/react-leaflet-on-next-15/img/map-marker-icons_hu55c5701bd3c26938a0c8eab9bfb7173b_199868_1200x0_resize_q75_box.jpg 2x" alt="Custom map marker icons!"><figcaption><p>Custom map marker icons!</p></figcaption></figure></section></article><aside><h2>See Also</h2><ul class="post-preview-grid seeAlso"><div class=post-preview><a href=https://xxlsteve.net/blog/search-component-and-page-for-nextjs/><img class=post-preview__top src=/blog/search-component-and-page-for-nextjs/img/thumbnail.jpg alt="Search Component and Page for NextJS App Router"></a><div class=post-preview__bottom><div class=taxonomies style=flex-direction:column><div class=taxonomies__tag-group style=margin:0><div class=tag><span class=tag-text><a href=/categories/tutorial>Tutorial</a></span></div></div><div class=taxonomies__tag-group style=margin:0><div class=tag><span class=tag-text><a href=/tags/javascript>Javascript</a></span></div><div class=tag><span class=tag-text><a href=/tags/typescript>Typescript</a></span></div><div class=tag><span class=tag-text><a href=/tags/react>React</a></span></div></div></div><a href=https://xxlsteve.net/blog/search-component-and-page-for-nextjs/><h3 class=preview-title style=color:#fff>Search Component and Page for NextJS App Router</h3><span style=color:#fff>March 15, 2025</span></a></div></div></ul></aside><hr><div class=sharethis-inline-reaction-buttons></div><script>var remark_config={host:"https://remark42.xxlsteve.net",site_id:"remark",url:"https://xxlsteve.net/blog/react-leaflet-on-next-15/",locale:"en",max_shown_comments:10}</script><script>!function(e,t){for(s=0;s<e.length;s++){var s,n=t.createElement("script"),o=".js",i=t.head||t.body;"noModule"in n?(n.type="module",o=".mjs"):n.async=!0,n.defer=!0,n.src=remark_config.host+"/web/"+e[s]+o,i.appendChild(n)}}(remark_config.components||["embed"],document)</script><div id=remark42></div><script>document.querySelectorAll(".imagePopup").forEach(e=>{e.onclick=()=>{imagePopup(e)}})</script><div id=image-popup-pageblock class="pageblock hidden" style=display:none onclick='closePageBlock("image-popup-pageblock")'><div id=image-popup onclick=event.stopPropagation()><a href download id=image-popup__download title=Download><i class=pxico-download_anim></i></a>
<span onclick='closePageBlock("image-popup-pageblock")' draggable=false class=cross-button><i class=pxico-cross></i></span>
<img src alt id=image-popup__image><div id=image-popup__text></div></div></div></div></div></main><footer><div class=container><div class=footer-content><div class=footer-content__left-group><h3 class=footer-content__site-name>Socials</h3><div class=footer-social><a href=https://youtube.com/@XXLSteve class="icons youtube" target=_blank rel="noopener noreferrer" title='English YouTube Channel'><i class=pxico-youtube></i></a>
<a href=https://discord.gg/dJJyryc class="icons discord" target=_blank rel="noopener noreferrer" title='English Discord Server'><i class=pxico-discord></i></a>
<a href=https://twitter.com/CornetPanique86 class="icons twitter" target=_blank rel="noopener noreferrer" title=Twitter><i class=pxico-twitter></i></a>
<a href=https://github.com/CornetPanique86 class="icons github" target=_blank rel="noopener noreferrer" title=Github><i class=pxico-github></i></a>
<a href=https://reddit.com/u/CornetPanique86 class="icons reddit" target=_blank rel="noopener noreferrer" title=Reddit><i class=pxico-reddit></i></a></div><div class=footer-social><a href=https://youtube.com/@XXLSteveFR class="icons youtube" target=_blank rel="noopener noreferrer" title='French YouTube Channel'><i class=pxico-youtube></i></a>
<a href=https://discord.gg/qPcDsAUZyv class="icons discord" target=_blank rel="noopener noreferrer" title='French Discord Server'><i class=pxico-discord></i></a></div></div><div class=footer-content__right-group><h3 class=footer-content__site-name>Links</h3><div class=footer-social><a href=/credits class="links noA">Credits</a>
<a href=/privacy-policy class="links noA">Privacy Policy</a>
<a href=/about class="links noA">About</a>
<a href=/socials class="links noA">Socials & Contact</a></div><br>"Minecraft" is a trademark of Mojang AB. This website is not affiliated in any way with Microsoft or Mojang AB.</div></div></div></footer></div><div id=page-blur class="pageblock hidden" style=display:none><div id=cookie-consent-popup><span id=cookie-consent-popup__header>This website uses <span style=color:#c38108>cookies</span></span><p>By using this website, you agree to our <a href=/privacy-policy>Cookie Policy</a>.<br>By agreeing to Cookies, the website will store the following:</p><br><input type=checkbox id=themeCookieCheckbox value="Remember theme" checked disabled>
<label for=themeCookieCheckbox>Remember my color scheme/theme</label><br><br><br><button type=button class=mcbutton-hsl style=filter:brightness(100%) onclick=cookieAgreementFn(-1)>I reject Cookies</button>
<button type=button class=mcbutton-hsl style=filter:hue-rotate(90deg)brightness(200%);margin:10px onclick=cookieAgreementFn(1)>I accept Cookies</button></div></div><div id=customAlert></div><script src=/scripts/fixedsearch/fixedsearch.js></script></body></html>